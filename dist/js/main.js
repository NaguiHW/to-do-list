!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);const r=document.querySelector("#title-project-input"),a=document.querySelector("#task-form-title"),l=document.querySelector("#task-form-description"),s=document.querySelector("#date"),o=document.querySelector("#priority"),c=()=>{r.value=""},i=document.querySelector(".errors"),d=e=>{const t=document.createElement("p");t.setAttribute("class","notification is-danger"),t.innerHTML=e,i.appendChild(t),setTimeout(()=>t.remove(),4e3)};class u{constructor(e){this.title=e,this.task=[]}}const p=document.querySelector("#title-project-input");class m{static getProjects(){let e=[];return e=null===localStorage.getItem("project")?[]:JSON.parse(localStorage.getItem("project"))}static addProject(e){const t=m.getProjects();t.push(e),localStorage.setItem("project",JSON.stringify(t))}}const E=document.querySelector("#project-list"),h=()=>{const e=m.getProjects();for(let t=0;t<e.length;t+=1){const n=document.createElement("option");n.setAttribute("value",`${e[t].title}`),n.innerHTML=e[t].title,E.appendChild(n)}},g=()=>{E.innerHTML=""},f=(e,t)=>{const n=document.createElement("div");n.classList.add("task");const r=document.createElement("div");r.classList.add("task-description");const a=document.createElement("h3");a.innerHTML=`<b>${e.taskName}</b>`;const l=document.createElement("p");l.innerHTML=`${e.description}`;const s=document.createElement("p");s.innerHTML=`Due date: ${e.date}`,r.appendChild(a),r.appendChild(l),r.appendChild(s),r.addEventListener("click",e=>{((e,t)=>{const n=m.getProjects(),r=e.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.cellIndex,a=e.parentElement.parentElement.parentElement.rowIndex;n[r].task[a].status?(n[r].task[a].status=!1,localStorage.setItem("project",JSON.stringify(n)),t.classList.remove("true"),t.classList.add("false")):(n[r].task[a].status=!0,localStorage.setItem("project",JSON.stringify(n)),t.classList.remove("false"),t.classList.add("true"))})(e.target,n)}),e.status?n.classList.add("true"):n.classList.add("false"),"Low"===e.priority?n.classList.add("low"):"Medium"===e.priority?n.classList.add("medium"):n.classList.add("high");const o=document.createElement("div"),c=document.createElement("i");c.setAttribute("class","fas fa-minus-square delete-icon"),c.addEventListener("click",e=>{const t=m.getProjects(),n=e.target.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.cellIndex,r=e.target.parentElement.parentElement.parentElement.rowIndex;t[n].task.splice(r,1),localStorage.setItem("project",JSON.stringify(t)),e.target.parentElement.parentElement.parentElement.parentElement.deleteRow(r)});const i=document.createElement("i");i.setAttribute("class","fas fa-edit edit-icon");const d=document.createElement("i");d.setAttribute("class","fas fa-save save-icon"),i.addEventListener("click",e=>{const t=m.getProjects(),a=e.target.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.cellIndex,l=e.target.parentElement.parentElement.parentElement.rowIndex,s=document.createElement("div"),c=document.createElement("input");c.setAttribute("type","text"),c.setAttribute("class","input is-small edit-title"),c.value=t[a].task[l].taskName;const u=document.createElement("input");u.setAttribute("type","text"),u.setAttribute("class","input is-small edit-description"),u.value=t[a].task[l].description;const p=document.createElement("input");p.setAttribute("type","date"),p.setAttribute("class","edit-date"),p.value=t[a].task[l].date;const E=document.createElement("select");E.setAttribute("class","edit-priority");const h=document.createElement("option");h.setAttribute("value","Low"),h.innerHTML="Low";const g=document.createElement("option");g.setAttribute("value","Medium"),g.innerHTML="Medium";const f=document.createElement("option");f.setAttribute("value","High"),f.innerHTML="High",E.appendChild(h),E.appendChild(g),E.appendChild(f),E.value=t[a].task[l].priority,s.appendChild(c),s.appendChild(u),s.appendChild(p),s.appendChild(E),s.classList.add("task-description"),s.classList.add("task-description-edit"),o.replaceChild(d,i),n.replaceChild(s,r)}),d.addEventListener("click",e=>{const t=m.getProjects(),c=e.target.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.cellIndex,u=e.target.parentElement.parentElement.parentElement.rowIndex,p=e.target.parentElement.parentElement.firstChild,E=e.target.parentElement.parentElement.firstChild.childNodes[0],h=e.target.parentElement.parentElement.firstChild.childNodes[1],g=e.target.parentElement.parentElement.firstChild.childNodes[2],f=e.target.parentElement.parentElement.firstChild.childNodes[3];t[c].task[u].taskName=E.value,t[c].task[u].description=h.value,t[c].task[u].date=g.value,"Low"===f.value?(e.target.parentElement.parentElement.classList.remove(`${t[c].task[u].priority.toLowerCase()}`),e.target.parentElement.parentElement.classList.add("low")):"Medium"===f.value?(e.target.parentElement.parentElement.classList.remove(`${t[c].task[u].priority.toLowerCase()}`),e.target.parentElement.parentElement.classList.add("medium")):(e.target.parentElement.parentElement.classList.remove(`${t[c].task[u].priority.toLowerCase()}`),e.target.parentElement.parentElement.classList.add("high")),t[c].task[u].priority=f.value,localStorage.setItem("project",JSON.stringify(t)),a.innerHTML=`<b>${E.value}</b>`,l.innerHTML=`${h.value}`,s.innerHTML=`Due date: ${g.value}`,n.replaceChild(r,p),o.replaceChild(i,d)}),o.appendChild(c),o.appendChild(i),o.setAttribute("class","task-options"),n.appendChild(r),n.appendChild(o);const u=t.insertRow(-1);u.classList.add("task-row"),u.appendChild(n)},v=document.querySelector("#table-row");let y=[];const k=e=>{const t=document.createElement("div");t.setAttribute("class","project panel");const n=document.createElement("h1");n.setAttribute("class","task-title"),n.innerHTML=e.title;const r=document.createElement("table"),a=document.createElement("tbody");if(a.setAttribute("class","task-body"),e.task.length>0)for(let t=0;t<e.task.length;t+=1)f(e.task[t],a);r.appendChild(a);const l=document.createElement("div");l.setAttribute("class","buttons");const s=document.createElement("button");s.setAttribute("class","button is-danger delete-project"),s.innerHTML="Delete Project",s.addEventListener("click",e=>{(e=>{const t=e.parentElement.parentElement.parentElement.cellIndex,n=JSON.parse(localStorage.project);n.splice(t,1),localStorage.setItem("project",JSON.stringify(n)),document.querySelector("#table-row").deleteCell(t),g(),h()})(e.target)}),l.appendChild(s),t.appendChild(n),t.appendChild(r),t.appendChild(l),v.insertCell(-1).appendChild(t)},L=document.querySelector(".post-project-button"),S=document.querySelector(".new-project-button"),b=document.querySelector(".project-form"),j=document.querySelector("#title-project-input"),C=[],T=()=>{L.addEventListener("click",e=>{if(""===j.value)d("Please fill all the fields");else{e.preventDefault();const t=m.getProjects();for(let e=0;e<t.length;e+=1)C.push(t[e].title);C.includes(j.value)?d("Title is already used"):((()=>{const e=new u(p.value);m.addProject(e)})(),b.classList.add("hide"),S.innerText="Create Project",(()=>{const e=(y=m.getProjects())[y.length-1];k(e)})(),c(),g(),h())}})},q=document.querySelector(".new-project-button"),w=document.querySelector(".project-form");let x=[];class P{constructor(e,t,n,r){this.taskName=e,this.description=t,this.date=n,this.priority=r}}const M=document.querySelector("#task-form-title"),A=document.querySelector("#task-form-description"),N=document.querySelector("#date"),I=document.querySelector("#priority"),H=document.querySelector("#project-list");let O;const J=document.querySelector("#create-task"),$=document.getElementById("create-task-button"),D=document.querySelector("#project-list"),_=document.querySelector("#task-form-title"),F=document.querySelector("#date"),R=document.querySelector("#priority"),B=document.querySelector(".task-form"),z=()=>{$.addEventListener("click",e=>{""===_.value||""===F.value||""===R.value?d("Please fill all the fields"):(e.preventDefault(),(()=>{const e=new P(M.value,A.value,N.value,I.value),t=m.getProjects();for(let n=0;n<t.length;n+=1)H.value===t[n].title&&(t[n].task.push(e),O=n,localStorage.setItem("project",JSON.stringify(t)))})(),((e,t)=>{const n=document.querySelector("#table-row"),r=m.getProjects();for(let a=0;a<r.length;a+=1)if(r[a].title===t){const t=r[a].task.length-1,l=r[a].task[t],s=n.childNodes[e].childNodes[0].childNodes[1];f(l,s)}})(O,D.value),B.classList.add("hide"),J.innerText="Create Task",a.value="",l.value="",s.value="",o.value="",g())})},G=document.querySelector("#create-task"),K=document.querySelector(".task-form");n(0),n(1);T(),q.addEventListener("click",e=>{"Close Form"===e.target.innerText?(w.classList.add("hide"),q.innerText="Create Project",c()):"Create Project"===e.target.innerText&&(w.classList.remove("hide"),q.innerText="Close Form")}),z(),G.addEventListener("click",e=>{"Close Form"===e.target.innerText?(K.classList.add("hide"),G.innerText="Create Task",g(),c()):"Create Task"===e.target.innerText&&(K.classList.remove("hide"),h(),G.innerText="Close Form")}),(()=>{const e=new u("Example Project"),t=new P("First task","Task Description","2019-12-12","Low"),n=new P("Second task","Task Description","2019-11-11","Medium");n.status=!0;const r=new P("Third task","Task Description","2019-10-10","High");e.task.push(t),e.task.push(n),e.task.push(r);const a=m.getProjects();a.length>0&&a[0].title!==e.title?a.unshift(e):0===a.length?a.push(e):a[0].title===e.title&&(a.shift(),a.unshift(e)),localStorage.setItem("project",JSON.stringify(a))})(),null===(x=m.getProjects())?x=[]:x.forEach(e=>{k(e)})}]);